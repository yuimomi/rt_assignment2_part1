\hypertarget{action__client__node_8cpp}{}\doxysection{src/action\+\_\+client\+\_\+node.cpp File Reference}
\label{action__client__node_8cpp}\index{src/action\_client\_node.cpp@{src/action\_client\_node.cpp}}


Action client node for assignment 2.  


{\ttfamily \#include $<$ros/ros.\+h$>$}\newline
{\ttfamily \#include $<$actionlib/client/simple\+\_\+action\+\_\+client.\+h$>$}\newline
{\ttfamily \#include $<$assignment\+\_\+2\+\_\+2024/\+Planning\+Action.\+h$>$}\newline
{\ttfamily \#include $<$nav\+\_\+msgs/\+Odometry.\+h$>$}\newline
{\ttfamily \#include $<$geometry\+\_\+msgs/\+Twist.\+h$>$}\newline
{\ttfamily \#include $<$my\+\_\+assignment2/\+Position\+Velocity.\+h$>$}\newline
{\ttfamily \#include $<$thread$>$}\newline
{\ttfamily \#include $<$atomic$>$}\newline
{\ttfamily \#include $<$string$>$}\newline
{\ttfamily \#include $<$sstream$>$}\newline
Include dependency graph for action\+\_\+client\+\_\+node.\+cpp\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{action__client__node_8cpp__incl}
\end{center}
\end{figure}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{action__client__node_8cpp_aeca2f7ae1bb9cb7616ae93ce27ca74d5}\label{action__client__node_8cpp_aeca2f7ae1bb9cb7616ae93ce27ca74d5}} 
std\+::atomic$<$ bool $>$ {\bfseries cancel\+\_\+goal} (false)
\item 
void \mbox{\hyperlink{action__client__node_8cpp_ae77e5d68ff0f4892f5154064e8b5e21c}{odom\+Callback}} (const nav\+\_\+msgs\+::\+Odometry\+::\+Const\+Ptr \&msg)
\begin{DoxyCompactList}\small\item\em Callback function for the /odom topic. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{action__client__node_8cpp_a574496e1966eec1bdd39a5bab7f44117}{stop\+Robot}} ()
\begin{DoxyCompactList}\small\item\em Function to stop the robot. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{action__client__node_8cpp_aa78584c9ece223aff1bc7825d37e3846}{user\+Input\+Thread}} (actionlib\+::\+Simple\+Action\+Client$<$ assignment\+\_\+2\+\_\+2024\+::\+Planning\+Action $>$ \&ac)
\begin{DoxyCompactList}\small\item\em Thread function to process user input from the console. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{action__client__node_8cpp_a3c04138a5bfe5d72780bb7e82a18e627}{main}} (int argc, char $\ast$$\ast$argv)
\begin{DoxyCompactList}\small\item\em Main function for the action\+\_\+client\+\_\+node. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{action__client__node_8cpp_a0cfea752b0c4dbee3b5d7ae08d0db635}\label{action__client__node_8cpp_a0cfea752b0c4dbee3b5d7ae08d0db635}} 
ros\+::\+Publisher {\bfseries robot\+\_\+state\+\_\+pub}
\item 
\mbox{\Hypertarget{action__client__node_8cpp_a3606284851f6e2459a3719e9b2dbda29}\label{action__client__node_8cpp_a3606284851f6e2459a3719e9b2dbda29}} 
ros\+::\+Publisher {\bfseries last\+\_\+target\+\_\+pub}
\item 
\mbox{\Hypertarget{action__client__node_8cpp_ac66da0a97da3b4feda4dc2dc8bdc2631}\label{action__client__node_8cpp_ac66da0a97da3b4feda4dc2dc8bdc2631}} 
ros\+::\+Publisher {\bfseries cmd\+\_\+vel\+\_\+pub}
\item 
\mbox{\Hypertarget{action__client__node_8cpp_a9a586725e682dfdf0360b26220a8f2ed}\label{action__client__node_8cpp_a9a586725e682dfdf0360b26220a8f2ed}} 
ros\+::\+Subscriber {\bfseries odom\+\_\+sub}
\item 
\mbox{\Hypertarget{action__client__node_8cpp_a562d3fa715f2c68e13455e43201573c0}\label{action__client__node_8cpp_a562d3fa715f2c68e13455e43201573c0}} 
my\+\_\+assignment2\+::\+Position\+Velocity {\bfseries robot\+\_\+state}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Action client node for assignment 2. 

\begin{DoxyAuthor}{Author}
Yui Momiyama 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
0.\+1 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
21/03/2025
\end{DoxyDate}
Subscribes to\+: ~\newline
 째 /odom

Publishes to\+: ~\newline
 째 /robot\+\_\+state 째 /last\+\_\+target 째 /cmd\+\_\+vel

Description \+:

This node is an action client that sends goals to the action server to reach a target position. The user can input the target position from the console. 

\doxysubsection{Function Documentation}
\mbox{\Hypertarget{action__client__node_8cpp_a3c04138a5bfe5d72780bb7e82a18e627}\label{action__client__node_8cpp_a3c04138a5bfe5d72780bb7e82a18e627}} 
\index{action\_client\_node.cpp@{action\_client\_node.cpp}!main@{main}}
\index{main@{main}!action\_client\_node.cpp@{action\_client\_node.cpp}}
\doxysubsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily int main (\begin{DoxyParamCaption}\item[{int}]{argc,  }\item[{char $\ast$$\ast$}]{argv }\end{DoxyParamCaption})}



Main function for the action\+\_\+client\+\_\+node. 


\begin{DoxyParams}{Parameters}
{\em argc} & Number of command-\/line arguments. \\
\hline
{\em argv} & Array of command-\/line arguments.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 if the program exits successfully.
\end{DoxyReturn}
Initializes the action client node, subscribers, and publishers. and creates the action client. Then, it starts a thread to process user input and enters a loop to move the robot. \mbox{\Hypertarget{action__client__node_8cpp_ae77e5d68ff0f4892f5154064e8b5e21c}\label{action__client__node_8cpp_ae77e5d68ff0f4892f5154064e8b5e21c}} 
\index{action\_client\_node.cpp@{action\_client\_node.cpp}!odomCallback@{odomCallback}}
\index{odomCallback@{odomCallback}!action\_client\_node.cpp@{action\_client\_node.cpp}}
\doxysubsubsection{\texorpdfstring{odomCallback()}{odomCallback()}}
{\footnotesize\ttfamily void odom\+Callback (\begin{DoxyParamCaption}\item[{const nav\+\_\+msgs\+::\+Odometry\+::\+Const\+Ptr \&}]{msg }\end{DoxyParamCaption})}



Callback function for the /odom topic. 


\begin{DoxyParams}{Parameters}
{\em msg} & A pointer to the recieved odometry.\\
\hline
\end{DoxyParams}
Description \+: This function is a callback function that is called when the robot\textquotesingle{}s position and velocity is received. \mbox{\Hypertarget{action__client__node_8cpp_a574496e1966eec1bdd39a5bab7f44117}\label{action__client__node_8cpp_a574496e1966eec1bdd39a5bab7f44117}} 
\index{action\_client\_node.cpp@{action\_client\_node.cpp}!stopRobot@{stopRobot}}
\index{stopRobot@{stopRobot}!action\_client\_node.cpp@{action\_client\_node.cpp}}
\doxysubsubsection{\texorpdfstring{stopRobot()}{stopRobot()}}
{\footnotesize\ttfamily void stop\+Robot (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Function to stop the robot. 

This function stops the robot by publishing a message with zero linear and angular velocity. \mbox{\Hypertarget{action__client__node_8cpp_aa78584c9ece223aff1bc7825d37e3846}\label{action__client__node_8cpp_aa78584c9ece223aff1bc7825d37e3846}} 
\index{action\_client\_node.cpp@{action\_client\_node.cpp}!userInputThread@{userInputThread}}
\index{userInputThread@{userInputThread}!action\_client\_node.cpp@{action\_client\_node.cpp}}
\doxysubsubsection{\texorpdfstring{userInputThread()}{userInputThread()}}
{\footnotesize\ttfamily void user\+Input\+Thread (\begin{DoxyParamCaption}\item[{actionlib\+::\+Simple\+Action\+Client$<$ assignment\+\_\+2\+\_\+2024\+::\+Planning\+Action $>$ \&}]{ac }\end{DoxyParamCaption})}



Thread function to process user input from the console. 


\begin{DoxyParams}{Parameters}
{\em ac} & A pointer to the action client\\
\hline
\end{DoxyParams}
This function manages user input from the console. The user can enter target coordinates to send a new goal or cancel the current goal. 